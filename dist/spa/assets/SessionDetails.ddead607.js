import{h as Me,a as xe,c as q,b as xt,r as re,p as on,a2 as sn,a3 as an,d as ln,g as ke,M as bt,n as un,a4 as cn,a5 as dn,a6 as fn,a7 as mn,a8 as hn,a9 as pn,aa as gn,w as Ne,x as yn,ab as vn,_ as Ft,A as V,P as H,N as It,z as bn,B as j,C as v,ac as Dt,ad as _n,D as y,ae as Sn,v as xn,O as _,af as Vt,ag as ye,ah as O,ai as Ct,S as ve,U as be,aj as wt,V as G,ak as Ot,E as M,R as Fn,al as In,W as T,am as Dn}from"./index.ec770fbd.js";import{a as je,Q as _e,b as Se,c as U,f as z,u as Vn}from"./formatters.f06a389b.js";import{Q as Cn}from"./QPage.6a9f3e57.js";const wn=Me("div",{class:"q-space"});var On=xe({name:"QSpace",setup(){return()=>wn}}),J=xe({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(o,{slots:t}){const n=q(()=>parseInt(o.lines,10)),s=q(()=>"q-item__label"+(o.overline===!0?" q-item__label--overline text-overline":"")+(o.caption===!0?" q-item__label--caption text-caption":"")+(o.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),a=q(()=>o.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>Me("div",{style:a.value,class:s.value},xt(t.default))}}),En=xe({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validation-success","validation-error"],setup(o,{slots:t,emit:n}){const s=ke(),a=re(null);let f=0;const d=[];function p(c){const m=[],E=typeof c=="boolean"?c:o.noErrorFocus!==!0,I=++f,S=($,C)=>{n("validation-"+($===!0?"success":"error"),C)};for(let $=0;$<d.length;$++){const C=d[$],N=C.validate();if(typeof N.then=="function")m.push(N.then(x=>({valid:x,comp:C}),x=>({valid:!1,comp:C,err:x})));else if(N!==!0){if(o.greedy===!1)return S(!1,C),E===!0&&typeof C.focus=="function"&&C.focus(),Promise.resolve(!1);m.push({valid:!1,comp:C})}}return m.length===0?(S(!0),Promise.resolve(!0)):Promise.all(m).then($=>{const C=$.filter(le=>le.valid!==!0);if(C.length===0)return I===f&&S(!0),!0;const{valid:N,comp:x,err:k}=C[0];return I===f&&(k!==void 0&&console.error(k),S(!1,x),E===!0&&N!==!0&&typeof x.focus=="function"&&x.focus()),!1})}function g(){f++,d.forEach(c=>{typeof c.resetValidation=="function"&&c.resetValidation()})}function F(c){c!==void 0&&bt(c);const m=f+1;p().then(E=>{m===f&&E===!0&&(o.onSubmit!==void 0?n("submit",c):c!==void 0&&c.target!==void 0&&typeof c.target.submit=="function"&&c.target.submit())})}function b(c){c!==void 0&&bt(c),n("reset"),un(()=>{g(),o.autofocus===!0&&o.noResetFocus!==!0&&u()})}function u(){cn(()=>{if(a.value===null)return;const c=a.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(a.value.querySelectorAll("[tabindex]"),m=>m.tabIndex>-1);c!=null&&c.focus({preventScroll:!0})})}on(dn,{bindComponent(c){d.push(c)},unbindComponent(c){const m=d.indexOf(c);m>-1&&d.splice(m,1)}});let h=!1;return sn(()=>{h=!0}),an(()=>{h===!0&&o.autofocus===!0&&u()}),ln(()=>{o.autofocus===!0&&u()}),Object.assign(s.proxy,{validate:p,resetValidation:g,submit:F,reset:b,focus:u,getValidationComponents:()=>d}),()=>Me("form",{class:"q-form",ref:a,onSubmit:F,onReset:b},xt(t.default))}});function oe(){const{emit:o,proxy:t}=ke(),n=re(null);function s(){n.value.show()}function a(){n.value.hide()}function f(p){o("ok",p),a()}function d(){o("hide")}return Object.assign(t,{show:s,hide:a}),{dialogRef:n,onDialogHide:d,onDialogOK:f,onDialogCancel:a}}const Et=["ok","hide"];oe.emits=Et;oe.emitsObject=fn(Et);var An=xe({name:"QField",inheritAttrs:!1,props:mn,emits:hn,setup(){return pn(gn())}});const Pn=()=>({modelValue:[Number,String],disable:{type:Boolean,default:!1},inputClass:{type:[String,Array,Object]},inputStyle:{type:[String,Array,Object]},filled:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},label:{type:String},rules:{type:Array,default:()=>[]},lazyRules:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},options:{type:Object,default:()=>({})},hideBottomSpace:{type:Boolean,default:!0}});/**
 * Vue Currency Input 2.4.0
 * (c) 2018-2022 Matthias Stiller
 * @license MIT
 */const ge=o=>o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),At=o=>o.replace(/^0+(0$|[^0])/,"$1"),$e=(o,t)=>(o.match(new RegExp(ge(t),"g"))||[]).length,Tn=(o,t)=>o.substring(0,o.indexOf(t));var Y;(function(o){o.symbol="symbol",o.narrowSymbol="narrowSymbol",o.code="code",o.name="name",o.hidden="hidden"})(Y||(Y={}));var Z;(function(o){o.precision="precision",o.thousands="thousands",o.millions="millions",o.billions="billions"})(Z||(Z={}));const Pt=[",",".","\u066B"],_t="(0|[1-9]\\d*)";class $n{constructor(t){var n,s,a,f,d,p;const{currency:g,currencyDisplay:F,locale:b,precision:u,accountingSign:h}=t;this.locale=b,this.options={style:"currency",currency:g,currencySign:h?"accounting":void 0,currencyDisplay:F!==Y.hidden?F:void 0};const c=new Intl.NumberFormat(b,this.options),m=c.formatToParts(123456);this.currency=(n=m.find(({type:S})=>S==="currency"))===null||n===void 0?void 0:n.value,this.digits=[0,1,2,3,4,5,6,7,8,9].map(S=>S.toLocaleString(b)),this.decimalSymbol=(s=m.find(({type:S})=>S==="decimal"))===null||s===void 0?void 0:s.value,this.groupingSymbol=(a=m.find(({type:S})=>S==="group"))===null||a===void 0?void 0:a.value,this.minusSign=(f=c.formatToParts(-1).find(({type:S})=>S==="minusSign"))===null||f===void 0?void 0:f.value,this.decimalSymbol===void 0?this.minimumFractionDigits=this.maximumFractionDigits=0:typeof u=="number"?this.minimumFractionDigits=this.maximumFractionDigits=u:(this.minimumFractionDigits=(d=u==null?void 0:u.min)!==null&&d!==void 0?d:c.resolvedOptions().minimumFractionDigits,this.maximumFractionDigits=(p=u==null?void 0:u.max)!==null&&p!==void 0?p:c.resolvedOptions().maximumFractionDigits);const E=S=>Tn(S,this.digits[1]),I=S=>S.substring(S.lastIndexOf(this.decimalSymbol?this.digits[0]:this.digits[1])+1);this.prefix=E(c.format(1)),this.suffix=I(c.format(1)),this.negativePrefix=E(c.format(-1)),this.negativeSuffix=I(c.format(-1))}parse(t){if(t){const n=this.isNegative(t);t=this.normalizeDigits(t),t=this.stripCurrency(t,n),t=this.stripSignLiterals(t);const s=this.decimalSymbol?`(?:${ge(this.decimalSymbol)}(\\d*))?`:"",a=this.stripGroupingSeparator(t).match(new RegExp(`^${_t}${s}$`));if(a&&this.isValidIntegerFormat(this.decimalSymbol?t.split(this.decimalSymbol)[0]:t,Number(a[1])))return Number(`${n?"-":""}${this.onlyDigits(a[1])}.${this.onlyDigits(a[2]||"")}`)}return null}isValidIntegerFormat(t,n){const s={...this.options,minimumFractionDigits:0};return[this.stripCurrency(this.normalizeDigits(n.toLocaleString(this.locale,{...s,useGrouping:!0})),!1),this.stripCurrency(this.normalizeDigits(n.toLocaleString(this.locale,{...s,useGrouping:!1})),!1)].includes(t)}format(t,n={minimumFractionDigits:this.minimumFractionDigits,maximumFractionDigits:this.maximumFractionDigits}){return t!=null?t.toLocaleString(this.locale,{...this.options,...n}):""}toFraction(t){return`${this.digits[0]}${this.decimalSymbol}${this.onlyLocaleDigits(t.substr(1)).substr(0,this.maximumFractionDigits)}`}isFractionIncomplete(t){return!!this.normalizeDigits(this.stripGroupingSeparator(t)).match(new RegExp(`^${_t}${ge(this.decimalSymbol)}$`))}isNegative(t){return t.startsWith(this.negativePrefix)||this.minusSign===void 0&&(t.startsWith("(")||t.startsWith("-"))||this.minusSign!==void 0&&t.replace("-",this.minusSign).startsWith(this.minusSign)}insertCurrency(t,n){return`${n?this.negativePrefix:this.prefix}${t}${n?this.negativeSuffix:this.suffix}`}stripGroupingSeparator(t){return this.groupingSymbol!==void 0?t.replace(new RegExp(ge(this.groupingSymbol),"g"),""):t}stripSignLiterals(t){return this.minusSign!==void 0?t.replace("-",this.minusSign).replace(this.minusSign,""):t.replace(/[-()]/g,"")}stripCurrency(t,n){return t.replace(n?this.negativePrefix:this.prefix,"").replace(n?this.negativeSuffix:this.suffix,"")}normalizeDecimalSeparator(t,n){return Pt.forEach(s=>{t=t.substr(0,n)+t.substr(n).replace(s,this.decimalSymbol)}),t}normalizeDigits(t){return this.digits[0]!=="0"&&this.digits.forEach((n,s)=>{t=t.replace(new RegExp(n,"g"),String(s))}),t}onlyDigits(t){return this.normalizeDigits(t).replace(/\D+/g,"")}onlyLocaleDigits(t){return t.replace(new RegExp(`[^${this.digits.join("")}]*`,"g"),"")}}class Tt{constructor(t){this.currencyFormat=t}}class Nn extends Tt{conformToMask(t,n=""){const s=this.currencyFormat.isNegative(t),a=m=>m===""&&s&&!(this.currencyFormat.minusSign===void 0?n===this.currencyFormat.negativePrefix+this.currencyFormat.negativeSuffix:n===this.currencyFormat.negativePrefix),f=m=>{if(a(m))return"";if(this.currencyFormat.maximumFractionDigits>0){if(this.currencyFormat.isFractionIncomplete(m))return m;if(m.startsWith(this.currencyFormat.decimalSymbol))return this.currencyFormat.toFraction(m)}return null};let d=t;d=this.currencyFormat.stripCurrency(d,s),d=this.currencyFormat.stripSignLiterals(d);const p=f(d);if(p!=null)return this.currencyFormat.insertCurrency(p,s);const[g,...F]=d.split(this.currencyFormat.decimalSymbol),b=At(this.currencyFormat.onlyDigits(g)),u=this.currencyFormat.onlyDigits(F.join("")).substr(0,this.currencyFormat.maximumFractionDigits),h=F.length>0&&u.length===0,c=b===""&&s&&(this.currencyFormat.minusSign===void 0?n===t.slice(0,-2)+this.currencyFormat.negativeSuffix:n===t.slice(0,-1));return h||c||a(b)?n:b.match(/\d+/)?{numberValue:Number(`${s?"-":""}${b}.${u}`),fractionDigits:u}:""}}class Rn extends Tt{conformToMask(t,n=""){if(t===""||this.currencyFormat.parse(n)===0&&this.currencyFormat.stripCurrency(n,!0).slice(0,-1)===this.currencyFormat.stripCurrency(t,!0))return"";const s=this.currencyFormat.isNegative(t),a=this.currencyFormat.stripSignLiterals(t)===""?-0:Number(`${s?"-":""}${At(this.currencyFormat.onlyDigits(t))}`)/Math.pow(10,this.currencyFormat.maximumFractionDigits);return{numberValue:a,fractionDigits:a.toFixed(this.currencyFormat.maximumFractionDigits).slice(-this.currencyFormat.maximumFractionDigits)}}}const Mn={locale:void 0,currency:void 0,currencyDisplay:void 0,hideGroupingSeparatorOnFocus:!0,hideCurrencySymbolOnFocus:!0,hideNegligibleDecimalDigitsOnFocus:!0,precision:void 0,autoDecimalDigits:!1,valueRange:void 0,useGrouping:!0,valueScaling:void 0};class kn{constructor(t,n){this.el=t,this.numberValue=null,this.addEventListener(),this.init(n),this.setValue(this.currencyFormat.parse(this.el.value))}setOptions(t){this.init(t),this.applyFixedFractionFormat(this.numberValue,!0)}getValue(){return{number:this.valueScaling&&this.numberValue!=null?this.toInteger(this.numberValue,this.valueScaling):this.numberValue,formatted:this.formattedValue}}setValue(t){const n=this.valueScaling!==void 0&&t!=null?this.toFloat(t,this.valueScaling):t;n!==this.numberValue&&this.applyFixedFractionFormat(n)}dispatchEvent(t){this.el.dispatchEvent(new CustomEvent(t,{detail:this.getValue()}))}init(t){this.options={...Mn,...t},this.options.autoDecimalDigits?(this.options.hideNegligibleDecimalDigitsOnFocus=!1,this.el.setAttribute("inputmode","numeric")):this.el.setAttribute("inputmode","decimal"),this.currencyFormat=new $n(this.options),this.numberMask=this.options.autoDecimalDigits?new Rn(this.currencyFormat):new Nn(this.currencyFormat);const n={[Z.precision]:this.currencyFormat.maximumFractionDigits,[Z.thousands]:3,[Z.millions]:6,[Z.billions]:9};this.valueScaling=this.options.valueScaling?n[this.options.valueScaling]:void 0,this.valueScalingFractionDigits=this.valueScaling!==void 0&&this.options.valueScaling!==Z.precision?this.valueScaling+this.currencyFormat.maximumFractionDigits:this.currencyFormat.maximumFractionDigits,this.minValue=this.getMinValue(),this.maxValue=this.getMaxValue()}getMinValue(){var t,n;let s=this.toFloat(-Number.MAX_SAFE_INTEGER);return((t=this.options.valueRange)===null||t===void 0?void 0:t.min)!==void 0&&(s=Math.max((n=this.options.valueRange)===null||n===void 0?void 0:n.min,this.toFloat(-Number.MAX_SAFE_INTEGER))),s}getMaxValue(){var t,n;let s=this.toFloat(Number.MAX_SAFE_INTEGER);return((t=this.options.valueRange)===null||t===void 0?void 0:t.max)!==void 0&&(s=Math.min((n=this.options.valueRange)===null||n===void 0?void 0:n.max,this.toFloat(Number.MAX_SAFE_INTEGER))),s}toFloat(t,n){return t/Math.pow(10,n!=null?n:this.valueScalingFractionDigits)}toInteger(t,n){return Number(t.toFixed(n!=null?n:this.valueScalingFractionDigits).split(".").join(""))}validateValueRange(t){return t!=null?Math.min(Math.max(t,this.minValue),this.maxValue):t}applyFixedFractionFormat(t,n=!1){this.format(this.currencyFormat.format(this.validateValueRange(t))),(t!==this.numberValue||n)&&this.dispatchEvent("change")}format(t,n=!1){if(t!=null){this.decimalSymbolInsertedAt!==void 0&&(t=this.currencyFormat.normalizeDecimalSeparator(t,this.decimalSymbolInsertedAt),this.decimalSymbolInsertedAt=void 0);const s=this.numberMask.conformToMask(t,this.formattedValue);let a;if(typeof s=="object"){const{numberValue:f,fractionDigits:d}=s;let{maximumFractionDigits:p,minimumFractionDigits:g}=this.currencyFormat;this.focus?g=n?d.replace(/0+$/,"").length:Math.min(p,d.length):Number.isInteger(f)&&!this.options.autoDecimalDigits&&(this.options.precision===void 0||g===0)&&(g=p=0),a=this.toInteger(Math.abs(f))>Number.MAX_SAFE_INTEGER?this.formattedValue:this.currencyFormat.format(f,{useGrouping:this.options.useGrouping&&!(this.focus&&this.options.hideGroupingSeparatorOnFocus),minimumFractionDigits:g,maximumFractionDigits:p})}else a=s;this.maxValue<=0&&!this.currencyFormat.isNegative(a)&&this.currencyFormat.parse(a)!==0&&(a=a.replace(this.currencyFormat.prefix,this.currencyFormat.negativePrefix)),this.minValue>=0&&(a=a.replace(this.currencyFormat.negativePrefix,this.currencyFormat.prefix)),(this.options.currencyDisplay===Y.hidden||this.focus&&this.options.hideCurrencySymbolOnFocus)&&(a=a.replace(this.currencyFormat.negativePrefix,this.currencyFormat.minusSign!==void 0?this.currencyFormat.minusSign:"(").replace(this.currencyFormat.negativeSuffix,this.currencyFormat.minusSign!==void 0?"":")").replace(this.currencyFormat.prefix,"").replace(this.currencyFormat.suffix,"")),this.el.value=a,this.numberValue=this.currencyFormat.parse(a)}else this.el.value="",this.numberValue=null;this.formattedValue=this.el.value,this.dispatchEvent("input")}addEventListener(){this.el.addEventListener("input",t=>{if(!t.detail){const{value:n,selectionStart:s}=this.el,a=t;if(s&&a.data&&Pt.includes(a.data)&&(this.decimalSymbolInsertedAt=s-1),this.format(n),this.focus&&s!=null){const f=()=>{const{prefix:d,suffix:p,decimalSymbol:g,maximumFractionDigits:F,groupingSymbol:b}=this.currencyFormat;let u=n.length-s;const h=this.formattedValue.length;if(this.currencyFormat.minusSign===void 0&&(n.startsWith("(")||n.startsWith("-"))&&!n.endsWith(")"))return h-this.currencyFormat.negativeSuffix.length>1?this.formattedValue.substring(s).length:1;if(this.formattedValue.substr(s,1)===b&&$e(this.formattedValue,b)===$e(n,b)+1)return h-u-1;if(h<u)return s;if(g!==void 0&&n.indexOf(g)!==-1){const c=n.indexOf(g)+1;if(Math.abs(h-n.length)>1&&s<=c)return this.formattedValue.indexOf(g)+1;!this.options.autoDecimalDigits&&s>c&&this.currencyFormat.onlyDigits(n.substr(c)).length-1===F&&(u-=1)}return this.options.hideCurrencySymbolOnFocus||this.options.currencyDisplay===Y.hidden?h-u:Math.max(h-Math.max(u,p.length),d.length)};this.setCaretPosition(f())}}},{capture:!0}),this.el.addEventListener("focus",()=>{this.focus=!0,setTimeout(()=>{const{value:t,selectionStart:n,selectionEnd:s}=this.el;if(this.format(t,this.options.hideNegligibleDecimalDigitsOnFocus),n!=null&&s!=null&&Math.abs(n-s)>0)this.setCaretPosition(0,this.el.value.length);else if(n!=null){const a=this.getCaretPositionOnFocus(t,n);this.setCaretPosition(a)}})}),this.el.addEventListener("blur",()=>{this.focus=!1,this.applyFixedFractionFormat(this.numberValue)}),this.el.addEventListener("change",t=>{t.detail||this.dispatchEvent("change")},{capture:!0})}getCaretPositionOnFocus(t,n){if(this.numberValue==null)return n;const{prefix:s,negativePrefix:a,suffix:f,negativeSuffix:d,groupingSymbol:p,currency:g}=this.currencyFormat,F=this.numberValue<0,b=F?a:s,u=b.length;if(this.options.hideCurrencySymbolOnFocus||this.options.currencyDisplay===Y.hidden){if(F){if(n<=1)return 1;if(t.endsWith(")")&&n>t.indexOf(")"))return this.formattedValue.length-1}}else{const c=F?d.length:f.length;if(n>=t.length-c)return this.formattedValue.length-c;if(n<u)return u}let h=n;return this.options.hideCurrencySymbolOnFocus&&this.options.currencyDisplay!==Y.hidden&&n>=u&&g!==void 0&&b.includes(g)&&(h-=u,F&&(h+=1)),this.options.hideGroupingSeparatorOnFocus&&p!==void 0&&(h-=$e(t.substring(0,n),p)),h}setCaretPosition(t,n=t){this.el.setSelectionRange(t,n)}}const jn=o=>o!=null&&o.matches("input")?o:o==null?void 0:o.querySelector("input");var Bn=(o,t)=>{var n,s,a,f;let d,p;const g=re(null),F=re(null),b=re(null),u=ke(),h=(u==null?void 0:u.emit)||((s=(n=u==null?void 0:u.proxy)===null||n===void 0?void 0:n.$emit)===null||s===void 0?void 0:s.bind(u==null?void 0:u.proxy)),c=(u==null?void 0:u.props)||((a=u==null?void 0:u.proxy)===null||a===void 0?void 0:a.$props),m=vn.startsWith("3"),E=m&&((f=u==null?void 0:u.attrs.modelModifiers)===null||f===void 0?void 0:f.lazy),I=q(()=>c==null?void 0:c[m?"modelValue":"value"]),S=m?"update:modelValue":"input",$=E?"update:modelValue":"change",C=x=>{x.detail&&(!E&&t!==!1&&I.value!==x.detail.number&&(h==null||h(S,x.detail.number)),b.value=x.detail.number,F.value=x.detail.formatted)},N=x=>{x.detail&&(h==null||h($,x.detail.number))};return Ne(g,x=>{var k;x?(p=jn((k=x==null?void 0:x.$el)!==null&&k!==void 0?k:x),p?(p.addEventListener("input",C),p.addEventListener("change",N),d=new kn(p,o),d.setValue(I.value)):console.error('No input element found. Please make sure that the "inputRef" template ref is properly assigned.')):d=null}),yn(()=>{p==null||p.removeEventListener("input",C),p==null||p.removeEventListener("change",N)}),{inputRef:g,numberValue:b,formattedValue:F,setValue:x=>d==null?void 0:d.setValue(x),setOptions:x=>d==null?void 0:d.setOptions(x)}};const Ln={name:"CurrencyInput",props:{modelValue:Number,options:Object,disable:Boolean},setup(o){const{inputRef:t,setOptions:n,setValue:s}=Bn(o.options);return Ne(()=>o.modelValue,a=>{s(a)}),Ne(()=>o.options,a=>{n(a)}),{inputRef:t}}},Gn=["disabled"];function qn(o,t,n,s,a,f){return V(),H("input",{ref:"inputRef",disabled:n.disable},null,8,Gn)}var Qn=Ft(Ln,[["render",qn]]);const zn={currency:"BRL",locale:"pt-BR",autoDecimalDigits:!0,hideCurrencySymbolOnFocus:!1,hideGroupingSeparatorOnFocus:!1,hideNegligibleDecimalDigitsOnFocus:!1},Hn=It({name:"MoneyInput",components:{CurrencyInput:Qn},props:{...Pn()},setup(o,{emit:t}){const n=q({get:()=>o.modelValue,set:a=>t("update:model-value",a)});n.value=isNaN(n.value)?0:Number(n.value);const s=q(()=>({...zn,...o.options}));return{modelVal:n,computedOptions:s}}});function Un(o,t,n,s,a,f){const d=bn("currency-input");return V(),j(An,{"model-value":o.modelVal,autofocus:o.autofocus,disable:o.disable,rules:o.rules,"lazy-rules":o.lazyRules,rounded:o.rounded,label:o.label,readonly:o.readonly,filled:o.filled,"hide-bottom-space":o.hideBottomSpace,style:{overflow:"hidden"}},{control:v(({id:p,floatingLabel:g})=>[Dt(y(d,{modelValue:o.modelVal,"onUpdate:modelValue":t[0]||(t[0]=F=>o.modelVal=F),id:p,options:o.computedOptions,class:Sn(["q-field__input",o.inputClass]),disable:o.disable},null,8,["modelValue","id","options","class","disable"]),[[_n,g]])]),_:1},8,["model-value","autofocus","disable","rules","lazy-rules","rounded","label","readonly","filled","hide-bottom-space"])}var Wn=Ft(Hn,[["render",Un]]),pe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Re={exports:{}};(function(o,t){var n=200,s="__lodash_hash_undefined__",a=9007199254740991,f="[object Arguments]",d="[object Array]",p="[object Boolean]",g="[object Date]",F="[object Error]",b="[object Function]",u="[object GeneratorFunction]",h="[object Map]",c="[object Number]",m="[object Object]",E="[object Promise]",I="[object RegExp]",S="[object Set]",$="[object String]",C="[object Symbol]",N="[object WeakMap]",x="[object ArrayBuffer]",k="[object DataView]",le="[object Float32Array]",Be="[object Float64Array]",Le="[object Int8Array]",Ge="[object Int16Array]",qe="[object Int32Array]",Qe="[object Uint8Array]",ze="[object Uint8ClampedArray]",He="[object Uint16Array]",Ue="[object Uint32Array]",$t=/[\\^$.*+?()[\]{}|]/g,Nt=/\w*$/,Rt=/^\[object .+?Constructor\]$/,Mt=/^(?:0|[1-9]\d*)$/,D={};D[f]=D[d]=D[x]=D[k]=D[p]=D[g]=D[le]=D[Be]=D[Le]=D[Ge]=D[qe]=D[h]=D[c]=D[m]=D[I]=D[S]=D[$]=D[C]=D[Qe]=D[ze]=D[He]=D[Ue]=!0,D[F]=D[b]=D[N]=!1;var kt=typeof pe=="object"&&pe&&pe.Object===Object&&pe,jt=typeof self=="object"&&self&&self.Object===Object&&self,B=kt||jt||Function("return this")(),We=t&&!t.nodeType&&t,Ke=We&&!0&&o&&!o.nodeType&&o,Bt=Ke&&Ke.exports===We;function Lt(e,i){return e.set(i[0],i[1]),e}function Gt(e,i){return e.add(i),e}function qt(e,i){for(var r=-1,l=e?e.length:0;++r<l&&i(e[r],r,e)!==!1;);return e}function Qt(e,i){for(var r=-1,l=i.length,w=e.length;++r<l;)e[w+r]=i[r];return e}function Xe(e,i,r,l){var w=-1,A=e?e.length:0;for(l&&A&&(r=e[++w]);++w<A;)r=i(r,e[w],w,e);return r}function zt(e,i){for(var r=-1,l=Array(e);++r<e;)l[r]=i(r);return l}function Ht(e,i){return e==null?void 0:e[i]}function Ze(e){var i=!1;if(e!=null&&typeof e.toString!="function")try{i=!!(e+"")}catch{}return i}function Je(e){var i=-1,r=Array(e.size);return e.forEach(function(l,w){r[++i]=[w,l]}),r}function Fe(e,i){return function(r){return e(i(r))}}function Ye(e){var i=-1,r=Array(e.size);return e.forEach(function(l){r[++i]=l}),r}var Ut=Array.prototype,Wt=Function.prototype,ue=Object.prototype,Ie=B["__core-js_shared__"],et=function(){var e=/[^.]+$/.exec(Ie&&Ie.keys&&Ie.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),tt=Wt.toString,Q=ue.hasOwnProperty,ce=ue.toString,Kt=RegExp("^"+tt.call(Q).replace($t,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),it=Bt?B.Buffer:void 0,nt=B.Symbol,rt=B.Uint8Array,Xt=Fe(Object.getPrototypeOf,Object),Zt=Object.create,Jt=ue.propertyIsEnumerable,Yt=Ut.splice,ot=Object.getOwnPropertySymbols,ei=it?it.isBuffer:void 0,ti=Fe(Object.keys,Object),De=ie(B,"DataView"),se=ie(B,"Map"),Ve=ie(B,"Promise"),Ce=ie(B,"Set"),we=ie(B,"WeakMap"),ae=ie(Object,"create"),ii=X(De),ni=X(se),ri=X(Ve),oi=X(Ce),si=X(we),st=nt?nt.prototype:void 0,at=st?st.valueOf:void 0;function W(e){var i=-1,r=e?e.length:0;for(this.clear();++i<r;){var l=e[i];this.set(l[0],l[1])}}function ai(){this.__data__=ae?ae(null):{}}function li(e){return this.has(e)&&delete this.__data__[e]}function ui(e){var i=this.__data__;if(ae){var r=i[e];return r===s?void 0:r}return Q.call(i,e)?i[e]:void 0}function ci(e){var i=this.__data__;return ae?i[e]!==void 0:Q.call(i,e)}function di(e,i){var r=this.__data__;return r[e]=ae&&i===void 0?s:i,this}W.prototype.clear=ai,W.prototype.delete=li,W.prototype.get=ui,W.prototype.has=ci,W.prototype.set=di;function L(e){var i=-1,r=e?e.length:0;for(this.clear();++i<r;){var l=e[i];this.set(l[0],l[1])}}function fi(){this.__data__=[]}function mi(e){var i=this.__data__,r=de(i,e);if(r<0)return!1;var l=i.length-1;return r==l?i.pop():Yt.call(i,r,1),!0}function hi(e){var i=this.__data__,r=de(i,e);return r<0?void 0:i[r][1]}function pi(e){return de(this.__data__,e)>-1}function gi(e,i){var r=this.__data__,l=de(r,e);return l<0?r.push([e,i]):r[l][1]=i,this}L.prototype.clear=fi,L.prototype.delete=mi,L.prototype.get=hi,L.prototype.has=pi,L.prototype.set=gi;function ee(e){var i=-1,r=e?e.length:0;for(this.clear();++i<r;){var l=e[i];this.set(l[0],l[1])}}function yi(){this.__data__={hash:new W,map:new(se||L),string:new W}}function vi(e){return fe(this,e).delete(e)}function bi(e){return fe(this,e).get(e)}function _i(e){return fe(this,e).has(e)}function Si(e,i){return fe(this,e).set(e,i),this}ee.prototype.clear=yi,ee.prototype.delete=vi,ee.prototype.get=bi,ee.prototype.has=_i,ee.prototype.set=Si;function te(e){this.__data__=new L(e)}function xi(){this.__data__=new L}function Fi(e){return this.__data__.delete(e)}function Ii(e){return this.__data__.get(e)}function Di(e){return this.__data__.has(e)}function Vi(e,i){var r=this.__data__;if(r instanceof L){var l=r.__data__;if(!se||l.length<n-1)return l.push([e,i]),this;r=this.__data__=new ee(l)}return r.set(e,i),this}te.prototype.clear=xi,te.prototype.delete=Fi,te.prototype.get=Ii,te.prototype.has=Di,te.prototype.set=Vi;function Ci(e,i){var r=Ae(e)||Zi(e)?zt(e.length,String):[],l=r.length,w=!!l;for(var A in e)(i||Q.call(e,A))&&!(w&&(A=="length"||Ui(A,l)))&&r.push(A);return r}function lt(e,i,r){var l=e[i];(!(Q.call(e,i)&&ft(l,r))||r===void 0&&!(i in e))&&(e[i]=r)}function de(e,i){for(var r=e.length;r--;)if(ft(e[r][0],i))return r;return-1}function wi(e,i){return e&&ut(i,Pe(i),e)}function Oe(e,i,r,l,w,A,R){var P;if(l&&(P=A?l(e,w,A,R):l(e)),P!==void 0)return P;if(!me(e))return e;var pt=Ae(e);if(pt){if(P=Qi(e),!i)return Li(e,P)}else{var ne=K(e),gt=ne==b||ne==u;if(Yi(e))return $i(e,i);if(ne==m||ne==f||gt&&!A){if(Ze(e))return A?e:{};if(P=zi(gt?{}:e),!i)return Gi(e,wi(P,e))}else{if(!D[ne])return A?e:{};P=Hi(e,ne,Oe,i)}}R||(R=new te);var yt=R.get(e);if(yt)return yt;if(R.set(e,P),!pt)var vt=r?qi(e):Pe(e);return qt(vt||e,function(Te,he){vt&&(he=Te,Te=e[he]),lt(P,he,Oe(Te,i,r,l,he,e,R))}),P}function Oi(e){return me(e)?Zt(e):{}}function Ei(e,i,r){var l=i(e);return Ae(e)?l:Qt(l,r(e))}function Ai(e){return ce.call(e)}function Pi(e){if(!me(e)||Ki(e))return!1;var i=ht(e)||Ze(e)?Kt:Rt;return i.test(X(e))}function Ti(e){if(!dt(e))return ti(e);var i=[];for(var r in Object(e))Q.call(e,r)&&r!="constructor"&&i.push(r);return i}function $i(e,i){if(i)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}function Ee(e){var i=new e.constructor(e.byteLength);return new rt(i).set(new rt(e)),i}function Ni(e,i){var r=i?Ee(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function Ri(e,i,r){var l=i?r(Je(e),!0):Je(e);return Xe(l,Lt,new e.constructor)}function Mi(e){var i=new e.constructor(e.source,Nt.exec(e));return i.lastIndex=e.lastIndex,i}function ki(e,i,r){var l=i?r(Ye(e),!0):Ye(e);return Xe(l,Gt,new e.constructor)}function ji(e){return at?Object(at.call(e)):{}}function Bi(e,i){var r=i?Ee(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Li(e,i){var r=-1,l=e.length;for(i||(i=Array(l));++r<l;)i[r]=e[r];return i}function ut(e,i,r,l){r||(r={});for(var w=-1,A=i.length;++w<A;){var R=i[w],P=l?l(r[R],e[R],R,r,e):void 0;lt(r,R,P===void 0?e[R]:P)}return r}function Gi(e,i){return ut(e,ct(e),i)}function qi(e){return Ei(e,Pe,ct)}function fe(e,i){var r=e.__data__;return Wi(i)?r[typeof i=="string"?"string":"hash"]:r.map}function ie(e,i){var r=Ht(e,i);return Pi(r)?r:void 0}var ct=ot?Fe(ot,Object):nn,K=Ai;(De&&K(new De(new ArrayBuffer(1)))!=k||se&&K(new se)!=h||Ve&&K(Ve.resolve())!=E||Ce&&K(new Ce)!=S||we&&K(new we)!=N)&&(K=function(e){var i=ce.call(e),r=i==m?e.constructor:void 0,l=r?X(r):void 0;if(l)switch(l){case ii:return k;case ni:return h;case ri:return E;case oi:return S;case si:return N}return i});function Qi(e){var i=e.length,r=e.constructor(i);return i&&typeof e[0]=="string"&&Q.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function zi(e){return typeof e.constructor=="function"&&!dt(e)?Oi(Xt(e)):{}}function Hi(e,i,r,l){var w=e.constructor;switch(i){case x:return Ee(e);case p:case g:return new w(+e);case k:return Ni(e,l);case le:case Be:case Le:case Ge:case qe:case Qe:case ze:case He:case Ue:return Bi(e,l);case h:return Ri(e,l,r);case c:case $:return new w(e);case I:return Mi(e);case S:return ki(e,l,r);case C:return ji(e)}}function Ui(e,i){return i=i==null?a:i,!!i&&(typeof e=="number"||Mt.test(e))&&e>-1&&e%1==0&&e<i}function Wi(e){var i=typeof e;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?e!=="__proto__":e===null}function Ki(e){return!!et&&et in e}function dt(e){var i=e&&e.constructor,r=typeof i=="function"&&i.prototype||ue;return e===r}function X(e){if(e!=null){try{return tt.call(e)}catch{}try{return e+""}catch{}}return""}function Xi(e){return Oe(e,!0,!0)}function ft(e,i){return e===i||e!==e&&i!==i}function Zi(e){return Ji(e)&&Q.call(e,"callee")&&(!Jt.call(e,"callee")||ce.call(e)==f)}var Ae=Array.isArray;function mt(e){return e!=null&&en(e.length)&&!ht(e)}function Ji(e){return tn(e)&&mt(e)}var Yi=ei||rn;function ht(e){var i=me(e)?ce.call(e):"";return i==b||i==u}function en(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=a}function me(e){var i=typeof e;return!!e&&(i=="object"||i=="function")}function tn(e){return!!e&&typeof e=="object"}function Pe(e){return mt(e)?Ci(e):Ti(e)}function nn(){return[]}function rn(){return!1}o.exports=Xi})(Re,Re.exports);var Kn=Re.exports;const Xn=M(" Novo Item "),Zn={class:"row q-col-gutter-md"},Jn={class:"col-12"},Yn={class:"col-6"},er={class:"col-12"},tr=O("div",{class:"text-body1 q-mb-sm"}," Participantes ",-1),St={__name:"ItemInfoDialog",props:{sessionId:{type:String,required:!0},itemId:String},emits:[...oe.emits],setup(o){const t=o,{dialogRef:n,onDialogHide:s,onDialogOK:a,onDialogCancel:f}=oe(),d=je(),p=d.getSessionById(t.sessionId),g=xn(Kn(t.itemId?d.getItemById(t.sessionId,t.itemId):{name:"",value:0,participantsIds:[]})),F=()=>{t.itemId?d.updateItem(t.sessionId,t.itemId,g.name,g.value,g.participantsIds):d.createItem(t.sessionId,g.name,g.value,g.participantsIds),a()};return(b,u)=>(V(),j(Vt,{ref_key:"dialogRef",ref:n,onHide:_(s)},{default:v(()=>[y(Ot,{class:"q-dialog-plugin"},{default:v(()=>[y(En,{onSubmit:F},{default:v(()=>[y(ye,{class:"text-h6"},{default:v(()=>[Xn]),_:1}),y(ye,null,{default:v(()=>[O("div",Zn,[O("div",Jn,[y(Ct,{modelValue:g.name,"onUpdate:modelValue":u[0]||(u[0]=h=>g.name=h),label:"Nome *",rules:[h=>!!h||"Obrigat\xF3rio"],"hide-bottom-space":""},null,8,["modelValue","rules"])]),O("div",Yn,[y(Wn,{modelValue:g.value,"onUpdate:modelValue":u[1]||(u[1]=h=>g.value=h),label:"Valor *",rules:[h=>!!h||"Obrigat\xF3rio"],"hide-bottom-space":""},null,8,["modelValue","rules"])]),O("div",er,[tr,y(_e,{separator:""},{default:v(()=>[(V(!0),H(be,null,ve(_(p).participants,h=>Dt((V(),j(Se,{key:h.id,tag:"label"},{default:v(()=>[y(U,{avatar:""},{default:v(()=>[y(In,{modelValue:g.participantsIds,"onUpdate:modelValue":u[2]||(u[2]=c=>g.participantsIds=c),val:h.id,color:"primary"},null,8,["modelValue","val"])]),_:2},1024),y(U,null,{default:v(()=>[y(J,null,{default:v(()=>[M(T(h.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[Fn]])),128))]),_:1})])])]),_:1}),y(wt,{align:"right"},{default:v(()=>[y(G,{color:"grey",label:"Cancelar",onClick:_(f),padding:"sm md",flat:""},null,8,["onClick"]),y(G,{color:"primary",label:"Salvar",type:"submit",padding:"sm md"})]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}},ir={key:1,class:"text-grey-9 q-pa-sm"},nr={__name:"ParticipantDetailsDialog",props:{sessionId:{type:String,required:!0},participantId:{type:String,required:!0}},emits:[...oe.emits],setup(o){const t=o,{dialogRef:n,onDialogHide:s,onDialogCancel:a}=oe(),f=je(),d=q(()=>f.getParticipantItemsById(t.sessionId,t.participantId)),p=q(()=>f.getParticipantById(t.sessionId,t.participantId));return(g,F)=>(V(),j(Vt,{ref_key:"dialogRef",ref:n,onHide:_(s)},{default:v(()=>[y(Ot,{class:"q-dialog-plugin"},{default:v(()=>[y(ye,{class:"text-h6"},{default:v(()=>[M(" Pedidos de "+T(_(p).name),1)]),_:1}),y(ye,null,{default:v(()=>[_(d).length>0?(V(),j(_e,{key:0,class:"q-mt-sm",separator:""},{default:v(()=>[(V(!0),H(be,null,ve(_(d),b=>(V(),j(Se,{key:b.id,class:"text-grey-10",clickable:""},{default:v(()=>[y(U,{class:"text-body1 text-weight-medium"},{default:v(()=>[y(J,null,{default:v(()=>[M(T(b.name),1)]),_:2},1024),y(J,{caption:""},{default:v(()=>[M(T(_(z)(_(f).getParticipantTotalValue(o.sessionId,o.participantId))),1)]),_:1})]),_:2},1024),y(U,{side:""},{default:v(()=>[M(T(_(z)(b.value)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(V(),H("div",ir," Nenhum pedido cadastrado "))]),_:1}),y(wt,{align:"right"},{default:v(()=>[y(G,{color:"grey",label:"Fechar",onClick:_(a),padding:"sm md",flat:""},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},rr={class:"row q-col-gutter-sm"},or={class:"col-6"},sr=O("div",{class:"text-h6 text-bold text-primary"}," Nome ",-1),ar={class:"text-body1 text-weight-medium"},lr={class:"col-6"},ur=O("div",{class:"text-h6 text-bold text-primary"}," Valor Total ",-1),cr={class:"text-body1 text-weight-medium"},dr={class:"col-12 row items-center"},fr=O("div",{class:"text-h6 text-bold text-primary"}," Gorjeta ",-1),mr={class:"col-12"},hr={class:"text-h6 text-bold text-primary row items-center"},pr=M(" Participantes "),gr={key:1,class:"text-grey-9 q-pa-sm"},yr={class:"col-12"},vr={class:"text-h6 text-bold text-primary row items-center"},br=M(" Pedidos "),_r={key:1,class:"text-grey-9 q-pa-sm"},Sr=It({name:"SessionDetails"}),Dr=Object.assign(Sr,{setup(o){const t=Vn(),n=Dn(),s=je(),{sessionId:a}=n.params,f=q(()=>s.getSessionById(a)),d=()=>{t.dialog({title:"Novo Participante",prompt:{model:"",isValid:m=>!!m,label:"Nome"},cancel:!0}).onOk(m=>{s.createParticipant(f.value.id,m)})},p=()=>{t.dialog({component:St,componentProps:{sessionId:a}})},g=m=>{t.dialog({component:St,componentProps:{sessionId:a,itemId:m.id}})},F=m=>{t.dialog({title:"Excluir Pedido",message:"Confirmar exclus\xE3o desse pedido?",ok:{label:"Excluir",color:"negative"},cancel:{label:"Cancelar",color:"grey",flat:!0}}).onOk(()=>{s.deleteItem(a,m.id)})},b=m=>{t.dialog({component:nr,componentProps:{sessionId:a,participantId:m.id}})},u=m=>{t.dialog({title:"Excluir Participante",message:"Confirmar exclus\xE3o desse participante?",ok:{label:"Excluir",color:"negative"},cancel:{label:"Cancelar",color:"grey",flat:!0}}).onOk(()=>{s.removeParticipantById(a,m.id)})},h=re(10),c=m=>m+m*(h.value/100);return(m,E)=>(V(),j(Cn,{padding:""},{default:v(()=>[O("div",rr,[O("div",or,[sr,O("div",ar,T(_(f).name||"-"),1)]),O("div",lr,[ur,O("div",cr,T(_(z)(_(s).getSessionTotalValueById(_(a))))+" ("+T(_(z)(c(_(s).getSessionTotalValueById(_(a)))))+") ",1)]),O("div",dr,[fr,y(On),y(Ct,{modelValue:h.value,"onUpdate:modelValue":E[0]||(E[0]=I=>h.value=I),type:"number",inputmode:"numeric",suffix:"%",style:{width:"50px"}},null,8,["modelValue"])]),O("div",mr,[O("div",hr,[y(G,{onClick:d,icon:"add",size:"sm",color:"primary",class:"q-mr-sm",round:""}),pr]),_(f).participants.length>0?(V(),j(_e,{key:0,class:"q-mt-sm",separator:""},{default:v(()=>[(V(!0),H(be,null,ve(_(f).participants,I=>(V(),j(Se,{key:I.id,to:{name:"SessionDetails",params:{sessionId:_(f).id}},class:"text-grey-10",clickable:""},{default:v(()=>[y(U,{class:"text-body1 text-weight-medium"},{default:v(()=>[y(J,null,{default:v(()=>[M(T(I.name),1)]),_:2},1024),y(J,{caption:""},{default:v(()=>[M(T(_(z)(_(s).getParticipantTotalValue(_(a),I.id)))+" ("+T(_(z)(c(_(s).getParticipantTotalValue(_(a),I.id))))+") ",1)]),_:2},1024)]),_:2},1024),y(U,{side:""},{default:v(()=>[y(G,{onClick:S=>b(I),icon:"visibility",round:"",flat:""},null,8,["onClick"]),y(G,{onClick:S=>u(I),icon:"delete",round:"",flat:""},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})):(V(),H("div",gr," Nenhum participante cadastrado "))]),O("div",yr,[O("div",vr,[y(G,{onClick:p,icon:"add",size:"sm",color:"primary",class:"q-mr-sm",round:""}),br]),_(f).items.length>0?(V(),j(_e,{key:0,class:"q-mt-sm text-grey-9",separator:""},{default:v(()=>[(V(!0),H(be,null,ve(_(f).items,I=>(V(),j(Se,{key:I.id,to:{name:"SessionDetails",params:{sessionId:_(f).id}},class:"text-grey-10",clickable:""},{default:v(()=>[y(U,{class:"text-body1 text-weight-medium"},{default:v(()=>[y(J,null,{default:v(()=>[M(T(I.name),1)]),_:2},1024),y(J,{caption:""},{default:v(()=>[M(T(_(z)(I.value))+" ("+T(_(z)(c(I.value)))+") ",1)]),_:2},1024)]),_:2},1024),y(U,{side:""},{default:v(()=>[y(G,{onClick:S=>g(I),icon:"edit",round:"",flat:""},null,8,["onClick"]),y(G,{onClick:S=>F(I),icon:"delete",round:"",flat:""},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})):(V(),H("div",_r," Nenhum pedido cadastrado "))])])]),_:1}))}});export{Dr as default};
